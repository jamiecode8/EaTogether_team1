<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    @@include('layout/style.html')
    <title>美食拍立得</title>
</head>
<body class="pho_body">
    
    @@include('layout/header.html')
<!-- ==================================下方開始編輯========================================== -->
    

<div class="pho_wrapper wrapper">
    <!-- 背景圖 -->
    <div class="pho_background"  id="app2">
        <main class="pho_main" >
            <div class="pho_top_wrapper">
                
                <div class="pho_top_content">
                    
                    <!-- 使用者ET頭像 -->
                    <img class="pho_user_pic"src="././img/tang/ET008.png" alt="">
                    
                    <!-- 上方s1 -->
                    <div>
                        <section class="pho_top_s1">
                            <!-- 使用者ID -->
                            <h1>{{mdata}}</h1>
                            <my-component :aaa = 'mdata'></my-component>
                        
                            <!-- 搜尋框 -->
                            <input class="pho_search_bar" type="text" id="pho_search" placeholder="Search">
                            <label for="pho_search"><img src="././img/icon/icon_search.png" alt=""></label>
                        </section>
                    
                        <!-- 上方s2 -->
                        <section class="pho_top_s2">

                            <!-- 選單 -->
                            <ul class="pho_menu">
                                <li><a href="myphoto.html">推薦拍立得</a></li>
                                <li><a href="myphoto_personal_page.html">我的拍立得</a></li>
                                <li><a href="myphoto_post_pic.html">製作拍立得</a></li>
                                <li><a href="#">我的追蹤</a></li>
                            </ul>
                        </section>
                    </div>

                </div>
                
            </div>

            <!-- 拍立得 -->
            

            <div class="pho_cards_wrapper">
                <ul class="pho_store_cards_lists">
                    
                    <my-card v-for='(itm,key) in mymember'
                    :storename = 'itm.store_name'
                    :storetag1 = 'itm.store_tag1'
                    :storetag2 = 'itm.store_tag2'
                    :storetag3 = 'itm.store_tag3'
                    :phototime = 'itm.mdate'
                    :membername = 'itm.member_name'
                    :foodimg = 'itm.food1_img'
                    ></my-card>                   
                    
                </ul>
               
            </div>

            <!------------- 拍立得內文彈窗 -------------->
            <div class="pho_popUps pho_disappear">
                <form action="#資料傳送送的網址" method="post" class="pho_popUps_form">
                    
                    <!-- close button -->
                    <button type="button" class="btn_close" id="pho_popup_closebtn">
                        <img src="./img/icon/icon_close.png" alt="" />
                    </button>
                    

                    <div class="pho_popUps_allcontent">
                        <!-- s1 pic-->
                        <section class="pho_poppus_s1">
                            <div>
                                <img src="./img/tang/food-1.jpg" alt="">
                            </div>
                        </section>
                        
                        <!-- s2 content-->
                        <section class="pho_poppus_s2">
                            <article>
                                <div class="pho_article_a1">
                                    <img src="./img/tang/ET008.png" alt="">
                                    <h2><a href="#">tina888</a></h2>
                                    <span><a href="#">追蹤</a></span>
                                    <a><img src="./img/tang/Icon more.png" alt=""></a>
                                </div>
            
                                <div class="pho_article_a2">
                                    <span><a href="#">@梯八咪雞肉飯</a></span>
                                    <h2></h2>
                                    <div class="pho_star">@@include('layout/star.html')</div>
                                </div>
            
                                <div class="pho_line_p1"></div>
                            
                                <div class="pho_article_a3">
                                    <span><a href="#">#南京復興</a></span>
                                    <span><a href="#">#小吃</a></span>
                                    <span><a href="#">#銅板</a></span>
                                </div>
    
                                <div class="pho_article_a4">
                                    <p>平價又好吃的銅板小吃，每天都想來吃。平價又好吃的銅板小吃，每天都想來吃。</p>
                                </div>
                            </article>
                            
                            <article class="pho_article_allcontent_a5">
                                <div class="pho_article_a5">
                                    <img src="./img/tang/ET_photo.png" alt="">   
                                    <span><a href="#">tina888</a></span>
                                    <span>看起來很好吃!!</span>
                                    <a><img src="./img/tang/Icon material.png" alt=""></a>
                                </div>
    
                                <div class="pho_article_a5">
                                    <img src="./img/tang/ET_photo.png" alt="">
                                    <span><a href="#">tina888</a></span>
                                    <span>看起來很好吃!!</span>
                                    <a><img src="./img/tang/Icon material.png" alt=""></a>
                                </div>
    
                                <div class="pho_article_a5">
                                    <img src="./img/tang/ET_photo.png" alt="">
                                    <span><a href="#">tina888</a></span>
                                    <span>看起來很好吃!!</span>
                                    <a><img src="./img/tang/Icon material.png" alt=""></a>
                                </div>

                                <div class="pho_article_a5">
                                    <img src="./img/tang/ET_photo.png" alt="">
                                    <span><a href="#">tina888</a></span>
                                    <span>看起來很好吃!!</span>
                                    <a><img src="./img/tang/Icon material.png" alt=""></a>
                                </div>

                                <div class="pho_article_a5">
                                    <img src="./img/tang/ET_photo.png" alt="">
                                    <span><a href="#">tina888</a></span>
                                    <span>看起來很好吃!!</span>
                                    <a><img src="./img/tang/Icon material.png" alt=""></a>
                                </div>
    
                            </article>
                                <div class="pho_article_a6">
                                    <textarea name="" id="" cols="30" rows="10" placeholder="留言回應..."></textarea>
                                    <button type="submit" class="">發佈</button>
                                </div>
    
                        </section>
                    </div>
                 </form> 
            </div>
        </main>
    </div>

    <div  id="app">
        @@include('layout/search.html')
    </div>

    

</div>


<!-- ==================================上方開始編輯========================================== -->
    @@include('layout/footer.html')
    @@include('layout/searchVue.html')

<script>
    // 開啟 關閉 拍立得彈窗
    let pho_popup_closebtn_js = document.getElementById('pho_popup_closebtn');
    let pho_cards_pic_js = document.querySelectorAll('img.pho_cards_pic');

    for(let i = 0 ; i<pho_cards_pic_js.length ;i++){
        pho_cards_pic_js[i].addEventListener("click",function(){  //this
            pho_popup_closebtn_js.closest('div.pho_popUps').classList.remove('pho_disappear');
        });
    }

        pho_popup_closebtn_js.addEventListener("click",function(){
            this.closest('div.pho_popUps').classList.add('pho_disappear');
        });


    //產生new Vue
    new Vue({
        el: '#app3',
        data: {
           mdata:'隨便內容', 
        },
        methods: {
            
        },
        created(){

        },

        components: {
                
                'my-component': { 
                    template: `<h1 style="color:red;">{{aaa}}</h1>`,
                    props:['aaa'],
                },

            },


    });

    new Vue({
            el: '#app2',
            data: {
                mymember:[],
                
            },
            methods:{
                
                getmymemberdata(info){
                    let self = this;

                        $.ajax({
                            type : "POST", 
                            url : "./php/Frontend/API/M_apr_memberpeople.php",  
                            data : {  
                                MID : info,            //---透過 MID 去抓該筆會員資料
                            }, 
                            dataType : 'html' 
                            }).done(function(data){    //---載入成功
                                //console.log(data);
                            self.mymember =  JSON.parse(data);
                            console.log(self.mymember);
                            console.log(self.mymember);

                            }).fail(function(jqXHR){   //---載入失敗
                            alert("res為ID數據載入失敗: " + jqXHR.status);
                            });

                    },
             
            },
            created(){

                axios.post("php/Frontend/API/M_getsession_MID.php").then((res)=>{
                this.getmymemberdata(res.data)
                });


            },
            
            components: {
                
                'my-card': { 
                    template:
                     `<li>
                        <!-- 照片連結 -->
                        <a href="#"><img class="pho_cards_pic" src= "./img/upload/food/ch_a4.png"
                            alt=""></a>

                        <div class="pho_vender_thumb_message">
                            <!-- 商家連結 -->
                            <a href="#">@{{storename}}</a>
                            
                            <!-- 按讚&留言icon -->
                            <a href="#"><img src="./img/tang/Icon_thumbs-up.png" alt=""></a>
                            <a href="#"><img src="./img/tang/Icon_message.png " alt=""></a>
                        </div>

                        <div class="pho_vender_feat_tag">
                            <!-- 標籤連結 -->
                            <a href="#"><p>{{storetag1? '#' + storetag1 : ""}}</p></a>
                            <a href="#"><p>{{storetag2? '#' + storetag2 : ""}}</p></a>
                            <a href="#"><p>{{storetag3? '#' + storetag3 : ""}}</p></a>
                        </div>

                        <!-- 作者ET頭像 他人拍立得頁面連結 -->
                        <div class="pho_vender_profile">
                            
                                <a href="#"><img src="./img/tang/ET001.png" alt=""></a>
                                <article>
                                    <p><a href="#" >{{membername}}</a></p>
                                    <p><a href="#">追蹤</a></p><!-- 追蹤按鈕 -->
                                </article>
                                <P>{{phototime}}</P>
                        </div>
                    </li>`,
                    props:['storename','storetag1','storetag2','storetag3','phototime','membername','foodimg'],
                },

            },


        });

</script>

</body>
</html>
