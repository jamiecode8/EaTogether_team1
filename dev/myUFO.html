<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
	<!-- 有要連的CDN放這裡，記得寫註解! -->
<link rel="stylesheet" href="./css/style.css" />
<!-- favicon -->
<link rel="shortcut icon" href="./img/favioion.ico" />
<link rel="shortcut icon" type="image/x-icon" href="./img/favicon.ico" />
<!-- 新增的js檔放這裡，記得寫註解! -->
<!-- jQuery CDN -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.js"></script>

<!-- 共用的js -->
<script src="js/style.js" async></script>

<!-- chart.js CDN -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- Vue.js CDN-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.12/vue.js"></script>

<!-- email.js CDN -->
<script type="text/javascript" src="https://cdn.emailjs.com/sdk/2.3.2/email.min.js"></script>
<script type="text/javascript">
    (function(){
    emailjs.init("user_ReqEW2MXqgQehsAN6DYV5");
    })();
</script>
<!-- smtp.js CDN -->
<script src="https://smtpjs.com/v3/smtp.js"></script>
<!-- slick CDN -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.css" />
<!-- axios CDN -->
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<!-- html2canvas -->
<script src="https://unpkg.com/html2canvas@1.0.0-rc.7/dist/html2canvas.js"></script>

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css">
	<title>我的飛碟</title>
	<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />

</head>
<!-- <script>
    function init(){
          $.ajax({            
            method: "POST",
            url: "./php/Frontend/API/LoginCheck.php",
            data:{},            
            dataType: "text",
            success: function (response) {
                if(response == ""){
                  alert('請先登入，將前往登入頁'); 
                  location.href = 'login_member.html';                
                }else{
                  getData();
                }
            },
            error: function(exception) {
                alert("數據載入失敗: " + exception.status);
            }
        });
      }  
      </script> -->
      
<body class="myUFO_wrapper"  >
	<header>
	<div class="headerInner">
		<!-- Logo -->
		<a href="./index.html" class="logo">
			<img src="./img/logo.png" alt="" />
		</a>
		<!-- 會員頭像 class="header" => el-->
		<div id="header_popups_container" @click="header_toggle" class="header">
			<!-- headerInner_login => 頭像 -->
			<div class="headerInner_login " id="headerInner_login" data-target="header_avatar">
				<!-- 彈窗 -->
				<div class="popUps popUpsLogout" id="header_popup" v-show="toggle">
					<div class="form popUpsLogout_from" data-target="header_popup">
						
					</div>
				</div>
			</div>
		</div>
		<!-- 漢堡圖 -->
		<div class="ham" id="ham_icon">
			<span class="ham_top"></span>
			<span class="ham_middle"></span>
			<span class="ham_bottom"></span>
		</div>

		<div class="header_overlay" id="header_overlay">
			<nav class="header_overlay_menu">
				<ul>
					<li class="header_list header_inner_logo">
						<a href="./index.html">
						</a>
					</li>
					<li class="header_list header_inner_myUFO pageUFO">
						<a href="./myUFO.html">
							<span class="header_list_span">我的飛碟</span>
						</a>
					</li>
					<li class="header_list header_inner_myPhoto @@classFP">
						<a href="./myphoto.html">
							<span class="header_list_span">美食拍立得</span>
						</a>
					</li>
					<li class="header_list header_inner_aboutUs @@classFU">
						<a href="./story.html">
							<span class="header_list_span">外食故事</span>
						</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</header>

<script>
	// 打開漢堡
	$('#ham_icon').click(function () {
		$(this).toggleClass('active');
		$('#header_overlay').toggleClass('open');
	});

	// 滑鼠往下滾，header就會出現底色
	var prevScrollpos = window.pageYOffset;
	window.onscroll = function () {
		var currentScrollPos = window.pageYOffset;
		if (prevScrollpos > currentScrollPos) {
			$('header').css('background', 'transparent')
		} else {
			$('header').css('background', 'rgba(251,255,232,0.5)')
		}
		prevScrollpos = currentScrollPos;
	}

	// 會員登出與修改資料的彈窗
	new Vue({
		el: '.header',
		data: {
			toggle: false,
		},
		methods: {
			header_toggle() {
				this.toggle = !this.toggle;
				// this.loginCheck();
			},
		},
	});

	(function (res) {
		axios
			.get("./php/Frontend/API/Member_Login_Check.php")
			.then((res) => {
				const data = res.data;
				if(data != ''){
					header_popup_login(data);
					header_avatar(); 
				}else{
					header_popup_login_not(data);
				};
				// console.log(data);
			})
	})();

	function header_popup_login(data) {
		// console.log(data);
		const header_popup = document.querySelector('[data-target="header_popup"]');
		header_popup.innerHTML = `
				<img src="./img/tang/ET004.png">
				<div>
					<a><p class="popUpsLogout_p"><span>${data}</span></p></a>
					<a href="./login_member_modify.html">
						<p class="popUpsLogout_p">修改會員資料</p>    
					</a>
					<a href='./php/Frontend/API/Member_Logout.php'>
						<p class="popUpsLogout_p">登出</p>
					</a>
				</div>
		`
	};

	function header_popup_login_not(data) {
		// console.log(data);
		const header_popup = document.querySelector('[data-target="header_popup"]');
		header_popup.innerHTML = `
				<a href="./login_member.html">
					<p class="popUpsLogout_p">登入/註冊</p>    
				</a>
		`
	};

	function header_avatar(){
		$('[data-target="header_avatar"]').css('background-image', "url('./img/header_story.png')");
	}


</script>


  <div class="wrapper myUFO_wrapper2">
    <!-- <div class="Untitled">
      <img src="./img/mimi/Web 1920 – 2.svg" alt="">
    </div> -->
    <div class="myUFO_bg">
     <div class="figure"><img src="./img/mimi/Backgroundimage.png" alt="#"  /></div>
     <div class="figure2"><img src="./img/mimi/Backgroundimage2.png" alt="#"  /></div>
     <div class="figure3"><img src="./img/mimi/Backgroundimaipad.png" alt="#" ></div>
     <div class="figure4"><img src="./img/mimi/Backgroundimage_phone2.png" alt="#" ></div>
     </div>  
     <div class="object">
     <!--窗戶-->
     <div class="window1">
         <img src="./img/mimi/window.svg" alt=""  />
     </div>
     <!--點數-->
     <!-- <div class="Points1">
     <img src="./img/mimi/Points.svg" alt="" />
     <p>8888</p>
     </div> -->
  

     <!-- 燈 -->
     <div class="light"><img src="./img/mimi/light.svg" alt="" ></div>   
     <!-- 收藏店家   -->
     <div class="favorites"><a href="#" ><img src="./img/mimi/favorites.svg" alt="" class="hover-button" id="Favoritesbox"/></a></div>
     <!-- 櫃子 -->
     <div class="cabinet"><a href="#" ><img src="./img/mimi/cabinet.svg" alt="" class="hover-button" id="category"/></a></div>
     <!-- 輪播版 -->
     <div class="Carousel"><img src="./img/mimi/myUFO_TV_1.png" alt=""  /></div>
     <!---輪播----->
        <!-- Swiper -->
     
        <div class="slideshow-body" id="slideshow">
         <div class="slide-wrapper">
           <div class="slide"><a href="#"><img src="./img/mimi/fr_b1.png" alt=""></a></div>
           <div class="slide"><a href="#"><img src="./img/mimi/fr_c1.png" alt=""></a></div>
           <div class="slide"><a href="#"><img src="./img/mimi/fr_b1.png" alt=""></a></div>
           <div class="slide"><a href="#"><img src="./img/mimi/fr_a1.png" alt=""></a></div>
          
         </div>
       </div>
                  
     <!-- 外星人   -->
     <div class="Speech_circle" ><img src="./img/mimi/Speech_circle.svg" alt=""></div>
     <div class="character"  id="app_myufo_wardrobe">
        <img :src="src" v-if="wardrobe_character_getRole" class="animated infinite delay-4s" />
        <img v-else src="./img/mimi/alienTest2.png" class="animated infinite delay-4s">   
         <a href="#">

        <img class="MyUFOcharacter_clothe clothe_1" v-if="wardrobe_character_clothe == 1" src="./img/mimi/character/clothe1.png" alt="">
        <img class="MyUFOcharacter_clothe clothe_2" v-if="wardrobe_character_clothe == 2" src="./img/mimi/character/clothe2.png" alt="">
        <img class="MyUFOcharacter_clothe clothe_3" v-if="wardrobe_character_clothe == 3" src="./img/mimi/character/clothe3.png" alt="">
        <img class="MyUFOcharacter_clothe clothe_4" v-if="wardrobe_character_clothe == 4" src="./img/mimi/character/clothe4.png" alt="">
        <img class="MyUFOcharacter_clothe clothe_5" v-if="wardrobe_character_clothe == 5" src="./img/mimi/character/clothe5.png" alt="">
        <img class="MyUFOcharacter_cap cap_1" v-if="wardrobe_character_cap == 1" src="./img/mimi/character/cap1.png" alt="">
        <img class="MyUFOcharacter_cap cap_1" v-if="wardrobe_character_cap == 2" src="./img/mimi/character/cap2.png" alt="">
        <img class="MyUFOcharacter_cap cap_1" v-if="wardrobe_character_cap == 3" src="./img/mimi/character/cap3.png" alt="">
        <img class="MyUFOcharacter_cap cap_1" v-if="wardrobe_character_cap == 4" src="./img/mimi/character/cap4.png" alt="">
        <img class="MyUFOcharacter_cap myufocap_5" v-if="wardrobe_character_cap == 5" src="./img/mimi/character/cap5.png" alt="">
        <img class="MyUFOcharacter_fitting fitting_1" v-if="wardrobe_character_fitting == 1" src="./img/mimi/character/fitting1.png" alt="">
        <img class="MyUFOcharacter_fitting fitting_1" v-if="wardrobe_character_fitting == 2" src="./img/mimi/character/fitting2.png" alt="">
        <img class="MyUFOcharacter_fitting fitting_1" v-if="wardrobe_character_fitting == 3" src="./img/mimi/character/fitting3.png" alt="">
        <img class="MyUFOcharacter_fitting fitting_1" v-if="wardrobe_character_fitting == 4" src="./img/mimi/character/fitting4.png" alt="">
        <img class="MyUFOcharacter_fitting fitting_1" v-if="wardrobe_character_fitting == 5" src="./img/mimi/character/fitting5.png" alt="">
        
 
    </a>
    </div>
    <script>
        var current_status = {
            getRole:localStorage.getItem(`KEY1`),
            clothe: localStorage.getItem('clothe'),
            cap: localStorage.getItem('cap'),
            fitting: localStorage.getItem('fitting'),
            
        }
        if (localStorage.getItem('change_clothed')) {
                    $(".Speech_circle").css("visibility", "hidden")
                }
                     
        new Vue({
            el: '#app_myufo_wardrobe',
            data: {
                wardrobe_character_getRole: current_status.getRole,
                src:localStorage.getItem(`KEY1`),
                wardrobe_character_clothe: current_status.clothe,
                wardrobe_character_cap: current_status.cap,
                wardrobe_character_fitting: current_status.fitting,
                
                
            }
        })

        sessionStorage.setItem("key", value);
    </script>
    <style>
        .MyUFOcharacter_cap {
            position: absolute;
            top: -75px;
            right: 10px;
            z-index: 100;
        }
        
        .MyUFOcharacter_clothe {
            position: absolute;
            z-index: 100;
            top: -60px
        }
        
        .MyUFOcharacter_fitting {
            position: absolute;
            z-index: 50;
            top: -45px
        }
    </style>
 
 
 <!-- --------收藏餐廳彈窗-------- -->
 <div class="popUps myCollection_pop" id="app_collection">
  <form class="form getMyCollection" action="">
    <button class="getMyCollectionClose btn_close" >
      <img src="./img/icon/icon_close_20.png" alt="">
    </button>
    <h1>收藏店家</h1>
    <div class="myStores" v-if="myStores.length !==0">
      <div class="getMyStores" v-for="(collection,key) in myStores" v-if="collection.show != false">
        <img class="heartButton" src="./img/icon/icon_heart.png" alt="" @click="removFavorite(collection,key)">
          <ul class="getMyStoresInf">
            <li class="myStoreName">
              <h2>{{collection.store_name}}</h2>
            </li>
            <li class="getStoreInf_star">
              <div v-for="star in 4"><img src="./img/icon/icon_star.png" alt=""></div>
              <div v-for="darkStar in 1"><img src="./img/icon/icon_star_default.png" alt=""></div>
            </li>
            <li class="getStoreInf_station">
              <p>捷運站:{{collection.station_name}}站</p>
            </li>
            <li class="getStoreInf_tag">
              <span>{{collection.store_tag1}}</span>
              <span>{{collection.store_tag2}}</span>
              <span>{{collection.store_tag3}}</span>
            </li>
          </ul>
          <img class="myStorePic" :src="[`./img/upload/food/`+collection.store_img]" alt="">
      </div>

    </div> 
    <div class="searchTotal" v-else>目前尚未收藏商任何店家 <img src="./img/story/storyAlien1.png" alt=""></div>
  </form>
</div>



 <!-- -------總分類彈窗----------- -->
 <div class="popUps myUFOcategory" id="myUFO_category">
     
     <form action="#資料傳送送的網址" method="post" class="form categorform" >
       <!-- close button -->
       <button type="button" class="close_categor btn_close">
         <img src="./img/icon/icon_close.png" alt="" >
       </button>
        <h1>小櫃子</h1>
       <!-- 主標題 -->
       <div class="categoricon"><img src="./img/mimi/category2.svg" alt="" class="categorimg"></div>
        <!-- 優惠券 -->
         <div class="coupon" ><a href="#" id="coupon_wardrobe" ><img src="./img/mimi/coupon.svg" alt="" class="hover-button" >
         <h1>優惠卷</h1></a></div>
         <!-- 小遊戲 -->
         <div class="game"><a href="#"><img src="./img/mimi/game.svg" alt="" class="hover-button"><h1>小遊戲</h1></a></div>
         <!-- 照片 -->
         <div class="Smallphoto"><a href="./myphoto.html"><img src="./img/mimi/Smallphoto.svg" alt="" class="hover-button"><h1>照片牆</h1></a></div>
         <!-- 任務 -->
         <div class="Smalltask"><a href="#" id="Smalltask_wardrobe"><img src="./img/mimi/task.svg" alt=""  class="hover-button"><h1>每日任務</h1></a></div>
     </form>
     
   </div>
  <!-- ---------------------search---------------------  -->
  <div id="app">
    <!-- ----------搜尋按鈕---------- -->
<ul class="index_searchbtn" id="mySearchBtn">
    <li class="search_btn_Search" @click='searchIcon'>
        <img src="./img/index/search.png" alt="">
        <p>美食搜尋</p>
    </li>
</ul>


<!-- 搜尋彈窗 -->
<div class="popUps index_search_popup" v-show="isSearchBoard">
    <!-- <form class="form getSearch" method="post" action="./php/Frontend/API/search.php"> -->
    <form class="form getSearch">

        <button type="button" class="getSearchClose btn_close" @click='closeSearch(1)'>
            <img src="./img/icon/icon_close_20.png" alt="">
        </button>
        <h1>Search</h1>
        <div class="searchFood text_search">
            <h2>搜尋美食</h2>
            <input :class="findFoodClass" type="text" :disabled="isTyped" v-model="findFood"
                @click='showTag(1)'>

            <img src="./img/icon/icon_search.png" alt="">
        </div>
        <div class="searchFood mrt_search">
            <h2>捷運路線</h2>
            <input :class="searchLineClass" type="text" disabled="disabled" v-model="searchLine">
            <img class="mrt_search_icon" src="./img/icon/icon_next_line.png" alt="" @click='showLine'
                name="searchByLine">
            <ul class="mrtLines" v-show="isShowLine">
                <li v-for="line in mrtLine" @click="myline(line)">{{line}}</li>
            </ul>
        </div>
        <div class="searchFood  keyword_search">
            <h2>標籤搜尋</h2>
            <input :class="searchTagsClass" type="text" disabled="disabled" v-model="searchTags"
                name="searchByTag">
            <img class="keyword_search_icon" src="./img/icon/icon_add_line.png" alt="" @click="showTag(3)">
        </div>
        <div class="searchWarn" v-show="isSearchNothing"><img src="./img/index/warn1.png" alt="">
            <p>Ｏpps!沒有完成搜尋</p>
        </div>


        <div class="SearchBtn btn">
            <input value="出發探索" class="getSearchBtn btn_submit" @click='searchFood()'>
        </div>

    </form>
</div>
<!-- 標籤彈窗     -->
<div class="popUps tags_popUp" v-show="isShowTag" >
    <form action="#資料傳送送的網址"  class="form getTags">
        <button type="button" class="getSearchClose btn_close" @click="closeSearch(4)">
            <img src="./img/icon/icon_close_20.png" alt="">
        </button>
        <h2>請選擇標籤</h2>
        <div class="searchTags">
            <span v-for="tag in tags" @click="myTag(tag)">{{tag}}</span>
        </div>
    </form>
</div>
<!-- 搜尋結果彈窗 -->
<div class="popUps index_store_popup" v-show="isSearchStores">
    <form class="form getStore" action="">
        <button type="button" class="getSearchClose btn_close" @click="closeSearch(2)">
            <img src="./img/icon/icon_close_20.png" alt="">
        </button>
        <div class="searchFood text_search">
            <h1 class="text_search_title" @click='searchIcon'>搜尋美食</h1>
            <input type="text" v-model="findFood">
            <img src="./img/icon/icon_search.png" alt="" @click="searchSomething">
        </div>
        <!-- 店家名單 -->
        <div class="getStoreInf_search">
            <div class="getStoreInf" @click="finalStoreInf(store)" v-for="store in stores">
                <ul class="getStoreInf_digital">
                    <li class="getStoreInf_name">
                        <h2>{{store.store_name}}</h2>
                    </li>
                            <li class="getStoreInf_star">
                                <div v-for="star in 4"><img src="./img/icon/icon_star.png" alt=""></div>
                                <div v-for="darkStar in 1"><img src="./img/icon/icon_star_default.png"
                                        alt=""></div>
                            </li>
                    <li class="getStoreInf_station">
                        <p>捷運站:{{store.station_name}}站</p> <!--  判斷是哪一個站給他該線顏色 -->
                        <!-- <span class="station_color">{{store.Station}}</span> -->

                    </li>
                    <li class="getStoreInf_tag">
                        <span>{{store.store_tag1}}</span>
                        <span>{{store.store_tag2}}</span>
                        <span>{{store.store_tag3}}</span>


                    </li>
                </ul>
                <img class="getStoreInf_pic" :src="[`./img/upload/food/`+store.store_img]" alt="">
            </div>
        </div> <!-- 後端要抓全部total筆數 -->
        <p class="searchTotal">共 <span>{{stores.length}}</span> 筆</p>
    </form>
</div>
<!-- 店家詳細資訊 -->
<div class="popUps index_inf_popup" v-show="isStoreInf">
    <form class="form getStoreDigitalInf" action="">
        <button type="button" class="getSearchClose btn_close" @click="closeSearch(3)">
            <img src="./img/icon/icon_close_20.png" alt="">
        </button>
        <div class="searchFood text_search">
            <h1 class="text_search_title">搜尋美食</h1>
            <input type="text" v-model="findFood">
            <img src="./img/icon/icon_search.png" alt="" @click="searchSomething">
        </div>
        <!-- 店家基本資訊 -->
        <div class="storeInf" v-if="storeDetail">
            <div class="storeInf_title">
                <img class="storeInf_title_like" @click="loginCheck(1)" :style="collectionClass"
                    src="./img/icon/icon_heart.png" alt="">
                <div>
                    <h2 class="storeInf_title_name">{{storeDetail.store_name}}</h2>
                    <!-- <h2 class="storeInf_title_name">{{store.name}}</h2> -->
                    <div class="getStoreInf_star">
                        <div v-for="star in 4"><img src="./img/icon/icon_star.png" alt=""></div>
                        <div v-for="darkStar in 1"><img
                                src="./img/icon/icon_star_default.png" alt=""></div>
                        <!-- <div v-for="star in store.star"><img src="./img/icon/icon_star.png" alt=""></div>
                            <div v-for="darkStar in store.star"><img src="./img/icon/icon_star_default.png" alt=""></div> -->
                    </div>
                    <div class="getStoreInf_tag">
                        <span>{{storeDetail.store_tag1}}</span>
                        <span>{{storeDetail.store_tag2}}</span>
                        <span>{{storeDetail.store_tag3}}</span>

                    </div>
                </div>
                <div class="storeInf_title_warn">
                    <img class="storeInf_warnIcon" src="./img/icon/icon_warn.png" alt=""
                        @click="getStoreReported" :style="signOpacity">
                </div>
            </div>
            <!-- 基本資訊icon     -->
            <div class="storeInf_section">
                <ul class="storeInf_sectionIcon">
                    <li class="sectionIcon sectionIcon_location" :class="{'on' : inf === 'location'}"><img
                            src="./img/icon/icon_location.png" alt="" @click="inf='location'"></li>
                    <li class="sectionIcon sectionIcon_mrt" :class="{'on' : inf === 'station'}"><img
                            src="./img/icon/icon_mrt.png" alt="" @click="inf='station'"></li>
                    <li class="sectionIcon sectionIcon_tel" :class="{'on' : inf === 'phone'}"><img
                            src="./img/icon/icon_tel.png" alt="" @click="inf='phone'"></li>
                    <li class="sectionIcon sectionIcon_price" :class="{'on' : inf === 'price'}"><img
                            src="./img/icon/icon_price.png" alt="" @click="inf='price'"></li>
                </ul>
                <component :address='storeDetail.store_address' :station='storeDetail.station_name'
                    :phone='storeDetail.store_tel' :price='storeDetail.price_interval' :is="inf"></component>
            </div>
            <!-- 店家照片 -->
            <div class="storeInf_pic slider">
                <div class="slider-for">
                    <img :src="[`./img/upload/food/`+storeDetail.food1_img]" alt="">
                    <img :src="[`./img/upload/food/`+storeDetail.food2_img]" alt="">
                    <img :src="[`./img/upload/food/`+storeDetail.food3_img]" alt="">
                    <img :src="[`./img/upload/food/`+storeDetail.menu_img]" alt="">
                </div>
                <div class="slider-nav">
                    <img :src="[`./img/upload/food/`+storeDetail.food1_img]" alt="">
                    <img :src="[`./img/upload/food/`+storeDetail.food2_img]" alt="">
                    <img :src="[`./img/upload/food/`+storeDetail.food3_img]" alt="">
                    <img :src="[`./img/upload/food/`+storeDetail.menu_img]" alt="">
                </div>
            </div>

            <!-- 評論 -->
            <div class="storeInf_comment">
                <h2>評論</h2>
                <div class="storeInf_comments">
                    <ul class="storeInf_commentMain" v-for="comment in storeComments">
                        <li class="commentMain_account">
                            <img src="./img/index/account.png" alt="">
                            <p>{{comment.member_name}}</p>
                        </li>

                        <li class="commentMain_star">
                            <div v-for="star in getStars(comment.store_star)">
                                <img src="./img/icon/icon_star.png" alt="">
                            </div>
                            <div v-for="darkStar in 5 - getStars(comment.store_star)">
                                <img src="./img/icon/icon_star_default.png" alt="">
                            </div>
                        </li>

                        <li class="commentMain_comment">
                            <p>{{comment.photo_text}}</p>
                        </li>
                    </ul>
                    <ul class="storeInf_commentMain">
                        <li class="commentMain_account">
                            <img src="./img/index/account.png" alt="">
                            <!-- <img :src="store.commentMemberPic" alt=""> -->
                            <p>挑惕小公主</p>
                            <!-- <p>{{store.commentMember}}</p> -->
                        </li>

                        <li class="commentMain_star">
                            <div v-for="star in 2"><img src="./img/icon/icon_star.png" alt="">
                            </div>
                            <div v-for="darkStar in 3"><img
                                    src="./img/icon/icon_star_default.png" alt=""></div>
                            <!-- <div v-for="star in store.commentStar"><img src="./img/icon/icon_star.png" alt=""></div>
                                <div v-for="darkStar in 5-store.commentStar"><img src="./img/icon/icon_star_default.png" alt=""></div> -->
                        </li>

                        <li class="commentMain_comment">
                            <p>沒有金湯匙我不接受</p>
                            <!-- <p>{{store.comment}}</p> -->
                        </li>
                    </ul>
                    <ul class="storeInf_commentMain">
                        <li class="commentMain_account">
                            <img src="./img/index/account.png" alt="">
                            <!-- <img :src="store.commentMemberPic" alt=""> -->
                            <p>信義小辣椒</p>
                            <!-- <p>{{store.commentMember}}</p> -->
                        </li>

                        <li class="commentMain_star">
                            <div v-for="star in 5"><img src="./img/icon/icon_star.png" alt="">
                            </div>
                            <div v-for="darkStar in 0"><img
                                    src="./img/icon/icon_star_default.png" alt=""></div>
                            <!-- <div v-for="star in store.commentStar"><img src="./img/icon/icon_star.png" alt=""></div>
                                <div v-for="darkStar in 5-store.commentStar"><img src="./img/icon/icon_star_default.png" alt=""></div> -->
                        </li>

                        <li class="commentMain_comment">
                            <p>抓住我的胃了</p>
                            <!-- <p>{{store.comment}}</p> -->
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- 優惠券 -->
        <div class="btn storeInf_btn">
            <input v-model="coupon" class="getCouponBtn btn_submit" @click="loginCheck(2)" />
        </div>
        <br />
    </form>
</div>
<!-- 檢舉店家彈窗 -->
<div class="popUps index_searcReport_popup" v-show="isSearchReport">
    <form class="form getReport" action="">
        <button type="button" class="getReportClose btn_close" @click="closeSearch(5)">
            <img src="./img/icon/icon_close_20.png" alt="">
        </button>
        <h1>我要檢舉</h1>
        <div class="reportReason">
            <img src="./img/index/warn2.png" alt="">
            <h2>檢舉原因:</h2>
            <textarea class="reportReason_text" name="" id="" cols="30" rows="5" v-model="report"
                placeholder="請留下原因 管理員會盡快處理！"></textarea>
        </div>
        <div class="reportBtn btn">
            <input @click='sendReport' value="檢舉" class="getReportBtn btn_submit" />
        </div>

    </form>
</div>
  </div>
          <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.js"></script>        
        <script>
            Vue.component('location', {
                props: ['address'],
                template: `
                <p class="sectionIconInf">地址: {{address}}</p>
                `,
                data() {
                    return {
                    };
                },
                mounted() {
                },
                methods: {
                    // getInf(){
                    //     this.$emit('storeinf-emit');
                    // },
                },
            });
            Vue.component('station', {
                props: ['station'],
                template: `
                <p class="sectionIconInf">捷運站: {{station}}</p>
                `,
            });
            Vue.component('phone', {
                props: ['phone',],
                template: `
                <p class="sectionIconInf">電話: {{phone}}</p>
                `,
            });
            Vue.component('price', {
                props: ['price'],
                template: `
                <p class="sectionIconInf">平均消費: {{price}}</p>
                `,
            });
            //search
            new Vue({
                el: '#app',
                data: {
                    choices: [],//whatToEat答案
                    whatToEat: '',
                    isSearchBoard: false,
                    isWhatToEat: true,
                    isShowLine: false,
                    mrtLine: ['板南線', '淡水信義線', '松山新店線', '文湖線', '中和新蘆線'],
                    searchLine: '',
                    findFood: '',
                    searchTags: '',
                    isShowTag: false,
                    tags: ['日式', '韓式', '美式', '義式', '台式', '法式', '中式', '夜市', '商業午餐', '早午餐', '下午茶', '銅板美食', '簡餐', '聚餐', '餐酒館', '咖啡', '甜點', '麵食', '鹽酥雞', '雞排', '咖哩', '火鍋', '牛排', '拉麵', '鐵板燒','義大利麵'],
                    isTyped: false,
                    content: '',//question compoment
                    isSearchStores: false,
                    isStoreInf: false,
                    stores: [],//ajax
                    isSearchNothing: false,
                    isSearchReport: false,
                    heartGrayscale: 1,
                    warnOpacity: 0.5,
                    coupon: '領取優惠',
                    report: '',
                    inf: '',
                    infoOpacity: 1,
                    storeComments:[],
                    storeDetail: null,
                    member_id:null,
                    couponContent:'EaT起來85折券',
                },
                methods: {
                    //whatToEat
                    nextQ() {
                        this.content = String(parseInt(this.content) + 1);
                    },
                    preQ() {
                        this.content = String(parseInt(this.content) - 1);
                    },
                    answerQ(selected) {
                        let index = parseInt(this.content) - 1;
                        this.choices[index] = selected;
                    },
                    getFoodQ() {
                        this.choices[0] = this.choices[0][0];
                        switch (this.choices[2]) {
                            case '義大利':
                                this.choices[2] = '義式';
                                this.whatToEat = '義大利麵';
                                break;
                            case '美國':
                                this.choices[2] = '美式';
                                this.whatToEat = '牛排';
                                break;
                            case '留在台灣':
                                this.choices[2] = '台式';
                                this.whatToEat = '雞排';
                                break;
                            case '日本':
                                this.choices[2] = '日式';
                                this.whatToEat = '咖哩';
                                break;
                        }
                        
                    },
                    closeQ() {
                        this.content = '';
                        this.choices = ['', '', '', ''];
                    },
                    againQ() {
                        this.content = '1';
                        this.choices = ['', '', '', ''];
                    },
    
                    //search
                    closeSearch(number) {
                        if (number == 1) {
                            this.isSearchBoard = false;
                            this.searchLine = '';
                            this.findFood = '';
                            this.searchTags = '';
                            this.isSearchNothing = false;
                        } else if (number == 2) {
                            this.isSearchStores = false;
                            this.findFood = '';
    
                        } else if (number == 3) {
                            this.isStoreInf = false;
                            this.findFood = '';
                        } else if (number == 4) {
                            this.isShowTag = false;
                        } else if (number == 5) {
                            this.isSearchReport = false;
                            this.warnOpacity = 0.5;
                        }
    
                    },
                    show() {
                        this.optionList = !this.optionList;
                    },
                    closeSearchBoard() {
                        if (this.content = 1) {
                            this.isSearchBoard = false;
                        }
                    },
                    //打開搜尋彈窗
                    searchIcon() {
                        this.isSearchBoard = !this.isSearchBoard;
                        this.isSearchStores = false;
                        this.isStoreInf = false;
                        this.content = "";
                    },
                    //捷運線選單
    
                    showLine() {
                        this.isShowLine = !this.isShowLine;
                    },
                    myline(line) {
                        this.searchLine = line;
                        this.isShowLine = false;
                        this.isSearchNothing = false;
                    },
                    myTag(tag) {
                        this.searchTags = tag;
                        this.isShowTag = false;
                    },
                    showTag(number) {
                        if (number == 3 && this.findFood == '') {
                            this.isShowTag = !this.isShowTag;
                            this.isSearchNothing = false;
                        }
                        if (number == 1) {
                            this.searchTags = '';
                            this.isSearchNothing = false;
                        }
                    },
                    getMemberID(){
                        var id = this;
                            $.ajax({
                                method: "POST",
                                url: "./php/Frontend/API/LoginCheck.php",
                                data: {
                                },
                                dataType: "json",
                                success: function (response) {
                                    // alert(response);
                                    id.member_id = response;
                                },
                                error: function (exception) {
                                    // alert("發生錯誤: " + exception.status);
                                }
                            });
        
                    },
                    searchFood() {
                        if (this.findFood != '' || this.searchTags != '' || this.searchLine != '') {
                            let data1 = this.findFood;
                            let data2 = this.searchLine;
                            let data3 = this.searchTags;
    
    
                            this.searchLine = '';
                            this.findFood = '';
                            this.searchTags = '';
                            this.isSearchBoard = false;
                            this.isSearchStores = true;
                            this.isSearchNothing = false;
    
                            var self = this;
                            $.ajax({
                                method: "POST",
                                url: "./php/Frontend/API/search.php",
                                data: {
                                    //php變數
                                    searchItem: data1,
                                    line_name: data2,
                                    tag_name: data3,
    
                                },
                                dataType: "json",
                                success: function (response) {
                                    // alert(response);
                                    self.stores = response;
                                    
                                },
                                error: function (exception) {
                                    alert("發生錯誤: " + exception.status);
                                }
                            });
                        this.member_id=this.getMemberID();
                        } else {
                            this.isSearchNothing = true;
                        }
    
                    },
                    showStores() {
                        var where = this;
                        $.ajax({
                            method: "POST",
                            url: "./php/Frontend/API/whatToEat.php",
                            data: {
                                whatToEatColor: where.choices[0],
                                whatToEatCountry: where.choices[2],
                                whatToEat:where.whatToEat,
                            },
                            dataType: "json",
                            success: function (response) {
                                   where.stores=response
                            },
                            error: function (exception) {
                                alert("數據載入失敗: " + exception.status);
                            }
                        });
                        this.isSearchStores = true;
    
                    },
                    finalStoreInf(store) {
                        var self2 = this;
                        $.ajax({
                            method: "POST",
                            url: "./php/Frontend/API/checkFavorite.php",
                            data: {
                                store_id: store.store_id,
                                member_id: self2.member_id
                            },
                            dataType: "text",
                            success: function (response) {
                                if(response=="") {
                                    //沒回傳值就是沒登入或沒收藏
                                    self2.heartGrayscale = 1;
                                } 
                                else{
                                    //有回傳值就是有登入且有收藏
                                    self2.heartGrayscale = 0;
                                }
                            },
                            error: function (exception) {
                                alert("數據載入失敗: " + exception.status);
                            }
                        });
                        $.ajax({
                                method: "POST",
                                url: "./php/Frontend/API/checkCoupon.php",
                                data: {
                                    memberID:self2.member_id,
                                },
                                dataType: "text",
                                success: function (response) {
                                    if (response == "") {
                                        self2.coupon='領取優惠';
                                    }
                                    else{
                                        self2.coupon='領取過了';
                                    }
                                },
                                error: function (exception) {
                                    alert("數據載入失敗: " + exception.status);
                                }
                            });
                            $.ajax({
                                method: "POST",
                                url: "./php/Frontend/API/storeComments.php",
                                data: {
                                    storeID:store.store_id,
                                },
                                dataType: "json",
                                success: function (response) {
                                    console.log(response);
                                    self2.storeComments = response;
                                },
                                error: function (exception) {
                                    alert("數據載入失敗: " + exception.status);
                                }
                            });
                            
    
                        this.isSearchStores = false;
                        this.isStoreInf = true;
                        this.storeDetail = store;
                        this.$nextTick(() => {
                            slick();
                        })
    
                    },
                    searchSomething() {
                        if (this.findFood != '' && this.findFood != '請輸入食物 站別 店名') {
                            let data1 = this.findFood;
                            let data2 = this.searchLine;
                            let data3 = this.searchTags;
                            var self = this;
                            // alert(data1);
                            $.ajax({
                                method: "POST",
                                url: "./php/Frontend/API/search.php",
                                data: {
                                    //php變數
                                    searchItem: data1,
                                    line_name: data2,
                                    tag_name: data3,
    
                                },
                                dataType: "json",
                                success: function (response) {
                                    // alert(response);
    
                                    self.stores = response;
                                },
                                error: function (exception) {
                                    alert("發生錯誤: " + exception.status);
                                }
                            });
    
                            this.isStoreInf = false;
                            this.isSearchStores = true;
                            this.findFood = '';
    
    
                        } else {
                            this.findFood = '請輸入食物 站別 店名';
                        }
    
                    },
    
                    getStoreReported() {
                        this.isSearchReport = true;
                        this.warnOpacity = 1;
                    },
                    sendReport() {
                        console.log(this.report);
                        this.report = '';
                        this.isSearchReport = false;
                        this.warnOpacity = 0.5;
                    },
                    getCoupon() {
                            var get =this;
                            let couponContent = this.couponContent;
                            let couponMemberID = this.member_id;
                            $.ajax({
                                method: "POST",
                                url: "./php/Frontend/API/getCoupon.php",
                                data: {
                                    coupon:couponContent,
                                    memberID:couponMemberID,
                                },
                                dataType: "text",
                                success: function (response) {
                                    if (response == "") {
                                        get.coupon='領取過';
                                    }else{
                                        alert("今天已領取");
                                    }
                                },
                                error: function (exception) {
                                    alert("數據載入失敗: " + exception.status);
                                }
                            });                    
                        
                    },
                    toCollect() {
                        if (this.heartGrayscale == 0) {
                            this.heartGrayscale = 1;
                            // console.log('{{this.store}}');
                            let storeId = this.storeDetail.store_id;
                            $.ajax({
                                method: "POST",
                                url: "./php/Frontend/API/RemoveFavorite.php",
                                data: {
                                    favorite: storeId
                                },
                                dataType: "json",
                            });
                            alert("將從我的最愛移除");
                        } else {
                            // console.log('{{this.store}}');
                            this.heartGrayscale = 0;
                            let storeId = this.storeDetail.store_id;
                            $.ajax({
                                method: "POST",
                                url: "./php/Frontend/API/AddFavorite.php",
                                data: {
                                    //php變數
                                    favorite: storeId
                                },
                                dataType: "json",
                            });
                            alert("新增到我的最愛");
                        }
                    },
                    loginCheck(number) {
                        if (number == 1) {
                            var like = this;
                            $.ajax({
                                method: "POST",
                                url: "./php/Frontend/API/LoginCheck.php",
                                data: {},
                                dataType: "text",
                                success: function (response) {
                                    if (response == "") {
                                        //尚未登入->前往Login.php
                                        alert('請先登入，將前往登入頁');
                                        location.href = 'login_member.html';
                                    } else {
                                        like.toCollect();
                                    }
                                },
                                error: function (exception) {
                                    alert("數據載入失敗: " + exception.status);
                                }
                            });
                        } else if (number == 2) {
                            var coupon =this;
                            $.ajax({
                                method: "POST",
                                url: "./php/Frontend/API/LoginCheck.php",
                                data: {},
                                dataType: "text",
                                success: function (response) {
                                    if (response == "") {
                                        //尚未登入->前往Login.php
                                        alert('請先登入，將前往登入頁');
                                        location.href = 'login_member.html';
                                    } else {
                                        coupon.getCoupon();
                                    }
                                },
                                error: function (exception) {
                                    alert("數據載入失敗: " + exception.status);
                                }
                            });
                        }
                    },
                    getDarkStars(lightStars) {
                        if (lightStars == null) {
                            return 5;
                        } else {
                            return 5 - lightStars;
                        }
                    },
                    getStars(lightStars) {
                            return parseInt(lightStars);
                    },
    
    
    
    
                },
                computed: {
                    findFoodClass() {
                        return {
                            noText: this.findFood.length === 0,
                        }
                    },
                    searchLineClass() {
                        return {
                            noText: this.searchLine.length === 0,
                        }
                    },
                    searchTagsClass() {
                        return {
                            noText: this.searchTags.length === 0,
                        }
                    },
                    collectionClass() {
                        //light =>0 dark=>1
    
                        return {
                            filter: `grayscale(${this.heartGrayscale})`,
                        }
                    },
                    signOpacity() {
                        return {
                            filter: `opacity(${this.warnOpacity})`,
                        }
                    },
                    storeInfOpacity() {
                        return {
                            filter: `opacity(${this.infoOpacity})`,
                        }
                    },
                },
    
            });
            function slick() {
                console.log($('.slider-for'));
                console.log($('.slider-nav'));
                $('.slider-for').slick({
                    slidesToShow: 1,
                    slidesToScroll: 1,
                    arrows: false,
                    fade: true,
                    asNavFor: '.slider-nav',
                });
    
                $('.slider-nav').slick({
                    slidesToShow: 4,
                    slidesToScroll: 1,
                    arrows: false,
                    asNavFor: '.slider-for',
                    focusOnSelect: true,
                });
            }
    
    
    
    
        </script>

 <!-- -----------------------優惠券彈窗------------------------------------- -->  
 <div class="popUps" id="wardrobe_coupon">
     <form action="#資料傳送送的網址" method="post" class="form">
       <!-- close button -->
       <button type="button" class="close_coupon btn_close">
         <img src="./img/icon/icon_close.png" alt="" >
       </button>
        <h1>每日優惠卷一張</h1>
       <!-- 主標題 -->
       <div class="couponicon"><img src="./img/mimi/couponicon.svg" alt="" ></div>
       <!-- 單顆按鈕用這裡 -->
       <div class="buttonArea">
         <a href="#"><div class="buybtn" id="couponbut2" @click="loginCheck(2)">兌換優惠券</div></a>
       </div>
     </form>
   </div>

   <div class="popUps" id="wardrobe_coupon2">
     <form action="#資料傳送送的網址" method="post" class="form">
       <!-- close button -->
       <button type="button" class="close_coupon btn_close">
         <img src="./img/icon/icon_close.png" alt="" >
       </button>
        <h1>每日優惠卷一張</h1>
       <!-- 主標題 -->
       <h2>請給店員操作</h2>
       <!-- 單顆按鈕用這裡 -->
       <div class="buttonArea">
         <a href="#"><div class="buybtn22">兌換優惠券</div></a>
       </div>
     </form>
   </div>
   <!-- -----------------------每日任務彈窗----------------------------- -->
   <div class="popUps" id="wardrobe_Smalltask">
     <form action="#資料傳送送的網址" method="post" class="form formSmalltask"> 
       <!-- close button -->
       <button type="button" class="close_coupon btn_close">
         <img src="./img/icon/icon_close.png" alt="">
       </button>
     
       <!-- 主標題 -->
       <h1 >
         每日任務 
       </h1>
       <div>
           <div class="Smalltaskbox1">
               <!-- --1-- -->
               <div class="Littleman"><img src="./img/mimi/Littleman.svg" alt="" ></div>
               <!-- --2---- -->
             <div class="progressmimi">
               <p class="Smalltask_p">每日登入</p>
               <div class="progress_bar">
                 <!-- <progress max="100" value="0" class="more1"></progress> -->
                 
                 <button type="button" id="more1" class="myUFO_button buybtn1">兌換</button>
                 </div>
             </div>
             
           </div>
       <div class="Smalltaskbox2">
         <!-- --1-- -->
         <div class="mrtSmalltask"><img src="./img/icon/icon_mrtBlue.png" alt="" ></div>
         <!-- --2---- -->
       <div class="progressmimi">
         <p class="Smalltask_p">新增收藏餐廳</p>
         <div class="progress_bar">
           <!-- <progress max="100" value="0" class="more2"></progress> -->
           
         <button type="button" id="more2" class="myUFO_button buybtn2">兌換</button>
         </div>
       </div>
         <!-- --3-- -->
     </div>
     <div class="Smalltaskbox3">
       <!-- --1-- -->
       <div class="mrtSmalltask"><img src="./img/icon/icon_mrtBrown.png" alt="" ></div>
       <!-- --2---- -->
     <div class="progressmimi">
       <p class="Smalltask_p">搜尋美食</p>
       <div class="progress_bar">
         <!-- <progress max="100" value="0" class="more3"></progress> -->
           
         <button type="button" id="more3" class="myUFO_button buybtn3">兌換</button>
       </div>
     </div>
    
   </div>
   <div class="Smalltaskbox4">
     <!-- --1-- -->
     <div class="mrtSmalltask"><img src="./img/icon/icon_mrtGreen.png" alt="" ></div>
     <!-- --2---- -->
   <div class="progressmimi">
     <p class="Smalltask_p">美食打卡</p>
     <div class="progress_bar">
       <!-- <progress max="100" value="0" class="more4"></progress> -->
           
       <button type="button" id="more4" class="myUFO_button buybtn4">兌換</button>
     </div>
   </div>

 </div>

</div>
       </div>   

     </form>
   </div>
 
   <script>
     $('#Smalltask_wardrobe').click(function(){
         $('#wardrobe_Smalltask').css('display' , 'block').fadeIn(100);
             console.log('click ok');
             })
            // 關閉彈窗
     $('.btn_close').click(function(){
         $('#wardrobe_Smalltask').fadeOut(200);
         });

     moveProgressBar();

      $(window).resize(function() {
         moveProgressBar();
         });

     function moveProgressBar() {
       console.log("moveProgressBar");
         var getPercent = ($('.progress-wrap').data('progress-percent') / 100);
         var getProgressWrapWidth = $('.progress-wrap').width();
         var progressTotal = getPercent * getProgressWrapWidth;
         var animationLength = 2500;

     $('.progress-bar').stop().animate({
         left: progressTotal
         }, animationLength);
     }

     moveProgressBar();

         $(window).resize(function() {
             moveProgressBar();
             });

                 function moveProgressBar() {
                 console.log("moveProgressBar");
                     var getPercent = ($('.progress-wrap').data('progress-percent') / 100);
                     var getProgressWrapWidth = $('.progress-wrap').width();
                     var progressTotal = getPercent * getProgressWrapWidth;
                     var animationLength = 2500;

                         $('.progress-bar').stop().animate({
                             left: progressTotal
                             }, animationLength);
         }

 </script>  
        <!-- -------總分類彈窗----------- -->
        <div class="popUps myUFOprogressbar" id="myUFOprogressbar">
     
         <form action="#資料傳送送的網址" method="post" class="form categorform" >
           <!-- close button -->
           <button type="button" class="close_myUFOprogressbar btn_close">
             <img src="./img/icon/icon_close.png" alt="" >
           </button>
            <h1 class="categor_h1">已領取點數50點!</h1>
           
         </form>
         
       </div>

			<!-- ----------靜瑩角色彈窗---------- -->
			<div class="popUps MyCharacter">
				<div action="" class="form getCharacter">

					<button type="button" class="getCharacterClose btn_close">
						<img src="./img/icon/icon_close.png" alt="" />
					</button>

					
					<div class="MyCharacter_for_web">
						<div class="getCharacter_alien">
							<!-- 所選的角色身體顯示 -->
							<h1>我的外食星人</h1>
							<div id="MyCharacter_canvas">
								<!-- MyCharacter_body -->
                <!-- <img class="MyCharacter_body" :src="''./img/MyUFO_Alien/body'+ MyCharacter_body +'.png'"> -->
								<img class="MyCharacter_body" v-if="MyCharacter_body == 1" src="./img/MyUFO_Alien/body1.png">
								<img class="MyCharacter_body" v-if="MyCharacter_body == 2" src="./img/MyUFO_Alien/body2.png">
								<img class="MyCharacter_body" v-if="MyCharacter_body == 3" src="./img/MyUFO_Alien/body3.png">
								<img class="MyCharacter_body" v-if="MyCharacter_body == 4" src="./img/MyUFO_Alien/body4.png">
								<img class="MyCharacter_body" v-if="MyCharacter_body == 5" src="./img/MyUFO_Alien/body5.png">
								<img class="MyCharacter_body" v-if="MyCharacter_body == 6" src="./img/MyUFO_Alien/body6.png">
								<!-- MyCharacter_eyes -->
								<img class="MyCharacter_eye" v-if="MyCharacter_eye == 1" src="./img/MyUFO_Alien/eye1.png">
								<img class="MyCharacter_eye" v-if="MyCharacter_eye == 2" src="./img/MyUFO_Alien/eye2.png">
								<img class="MyCharacter_eye" v-if="MyCharacter_eye == 3" src="./img/MyUFO_Alien/eye3.png">
								<img class="MyCharacter_eye" v-if="MyCharacter_eye == 4" src="./img/MyUFO_Alien/eye4.png">
								<img class="MyCharacter_eye" v-if="MyCharacter_eye == 5" src="./img/MyUFO_Alien/eye5.png">
								<img class="MyCharacter_eye" v-if="MyCharacter_eye == 6" src="./img/MyUFO_Alien/eye6.png">
								<!-- MyCharacter_mouth -->
								<img class="MyCharacter_mouth" v-if="MyCharacter_mouth == 1" src="./img/MyUFO_Alien/mouth1.png">
								<img class="MyCharacter_mouth" v-if="MyCharacter_mouth == 2" src="./img/MyUFO_Alien/mouth2.png">
								<img class="MyCharacter_mouth" v-if="MyCharacter_mouth == 3" src="./img/MyUFO_Alien/mouth3.png">
								<img class="MyCharacter_mouth" v-if="MyCharacter_mouth == 4" src="./img/MyUFO_Alien/mouth4.png">
								<img class="MyCharacter_mouth" v-if="MyCharacter_mouth == 5" src="./img/MyUFO_Alien/mouth5.png">
								<img class="MyCharacter_mouth" v-if="MyCharacter_mouth == 6" src="./img/MyUFO_Alien/mouth6.png">
							</div>
              				<!-- 桌機版的button -->
							<div class="btn getCharacterBtn_web">
                <button  class="btn_submit getMyCharacter" onclick="screenshot()">
                  送出
                </button>
							</div>
						</div>
						<div class="getCharacter_choice">
							<div class="getCharacter_choiceList">
								<div class="choiceList_body" @click="getCharacter_choiceList = 1">
									<p  @click="selected = 1" :class="{active:selected == 1}">身體</p>
									<!-- <p @click="e => e.target.classList.toggle('active')">身體</p> -->
								</div>
								<div class="choiceList_eye" @click="getCharacter_choiceList = 2">
									<p @click="selected = 2" :class="{active:selected == 2}">眼睛</p>
									<!-- <p @click="e => e.target.classList.toggle('active')">眼睛</p> -->
								</div>
								<div class="choiceList_mouth" @click="getCharacter_choiceList = 3">
									<p @click="selected = 3" :class="{active:selected == 3}">嘴巴</p>
									<!-- <p @click="e => e.target.classList.toggle('active')">嘴巴</p> -->
								</div>
							</div>
							<div class="choiceOrgan myBody" v-if="getCharacter_choiceList == 1">
								<ul class="alienBody">
									<li @click="MyCharacter_body = 1"><img src="./img/MyUFO_Alien/body1_option.png" alt=""></li>
									<li @click="MyCharacter_body = 2"><img src="./img/MyUFO_Alien/body2_option.png" alt=""></li>
									<li @click="MyCharacter_body = 3"><img src="./img/MyUFO_Alien/body3_option.png" alt=""></li>
								</ul>
								<ul class="alienBody">
									<li @click="MyCharacter_body = 4"><img src="./img/MyUFO_Alien/body4_option.png" alt=""></li>
									<li @click="MyCharacter_body = 5"><img src="./img/MyUFO_Alien/body5_option.png" alt=""></li>
									<li @click="MyCharacter_body = 6"><img src="./img/MyUFO_Alien/body6_option.png" alt=""></li>
								</ul>
							</div>
							<div class="choiceOrgan myEye" v-if="getCharacter_choiceList == 2">
								<ul class="alienEye">
									<li @click="MyCharacter_eye = 1"><img src="./img/MyUFO_Alien/eye1_option.png" alt=""></li>
									<li @click="MyCharacter_eye = 2"><img src="./img/MyUFO_Alien/eye2_option.png" alt=""></li>
									<li @click="MyCharacter_eye = 3"><img src="./img/MyUFO_Alien/eye3_option.png" alt=""></li>
								</ul>
								<ul class="alienEye">
									<li @click="MyCharacter_eye = 4"><img src="./img/MyUFO_Alien/eye4_option.png" alt=""></li>
									<li @click="MyCharacter_eye = 5"><img src="./img/MyUFO_Alien/eye5_option.png" alt=""></li>
									<li @click="MyCharacter_eye = 6"><img src="./img/MyUFO_Alien/eye6_option.png" alt=""></li>
								</ul>
							</div>
							<div class="choiceOrgan myMouth" v-if="getCharacter_choiceList == 3">
								<ul class="alienMouth">
									<li @click="MyCharacter_mouth = 1"><img src="./img/MyUFO_Alien/mouth1_option.png" alt=""></li>
									<li @click="MyCharacter_mouth = 2"><img src="./img/MyUFO_Alien/mouth2_option.png" alt=""></li>
									<li @click="MyCharacter_mouth = 3"><img src="./img/MyUFO_Alien/mouth3_option.png" alt=""></li>
								</ul>
								<ul class="alienMouth">
									<li @click="MyCharacter_mouth = 4"><img src="./img/MyUFO_Alien/mouth4_option.png" alt=""></li>
									<li @click="MyCharacter_mouth = 5"><img src="./img/MyUFO_Alien/mouth5_option.png" alt=""></li>
									<li @click="MyCharacter_mouth = 6"><img src="./img/MyUFO_Alien/mouth6_option.png" alt=""></li>
								</ul>
							</div>
						</div>
					</div>
          			<!-- RWD 的 button -->
					<div class="btn getCharacterBtn">
						<!-- <button onclick="screenshot()"> -->
            <button >
						  <button  class="btn_submit getMyCharacter" onclick="screenshot()">
                送出
              </button>
						<button>	
					</div>	
				</div>
			</div>
		</div>
	</div>

	<footer class="myFooter">
    <div class="footerLogo">
       <a href="./index.html"><img src="./img/logo.png" alt=""></a> 
    </div>
    <div class="logoCopyright">
         <img src="./img/index/slogan.png"alt="">
        <p>tiabame@copyright</p>
    </div>
    <ul class="ourWeb">
      <li class="contact">
        <p>聯絡我們</p>
        <img class="contactInf" src="./img/contact.png" alt="">
      </li>
      <li class="@@classFtStore">
        <a href="./login_store.html">加入地圖</a>
      </li>
      <li class=" @@classFtTeam">
        <a href="./develope.html">團隊介紹</a>
      </li>
      <li class="@@classFtFaq">
        <a href="./myUFO_Q&A.html" >常見問題</a>
      </li>
    </ul>
  </footer>
  <script>
  $('.contact').click(function (){
          $('.contactInf').toggleClass('on');
      });
  </script>
  
<!-- <footer>
    <div>
        <ul class="footer_nav">
            <li>
                <a href="/login_store.html">加入地圖</a>
            </li>
            <li>
                <a href="/develope.html"></a>
            </li>
            <li>
                <a href="/myUFO_Q&A.html">常見問題</a>
            </li>
        </ul>
    </div>

    <div>
        <ul class="ourInfo">
            <li>
                <img src="./img/icon/icon_tel.png" alt="" class="tel" />
                <p>02-2888-888</p>
            </li>
            <li>
                <img src="./img/icon/icon_mail.png" alt="" class="mail" />
                <p>tibame@gmail.com</p>
            </li>
            <li>
                <img src="./img/icon/icon_location.png" alt="" class="add" />
                <p>南京東路三段219號</p>
            </li>
        </ul>
    </div>

    <div class="copyright">
        <p>tiabame@copyright</p>
    </div>
</footer> -->

  

	<script>
    
		new Vue({
			el: '.MyCharacter',
			data: {
				// 選取物件
				MyCharacter_body: 1,
				MyCharacter_eye: 1,
				MyCharacter_mouth: 1,
				// 頁籤切換
				getCharacter_choiceList: 1,
				//加上class
				selected: 1,
			},
		});

  $.ajax({
        type :"GET",//呼叫模式
        url  : "./php/Backend/API/myUFO_TV.php",//呼叫的網址
        dataType: "json",//回傳的資料型態
        success : function(data) {
          for(var i=0 ;i<4;++i)
          {
            var ran=Math.floor(Math.random()*data.length);
            console.log(i,ran);
            console.log("img/upload/food/"+data[ran].image_img);
            $('#slideshow .slide:eq('+i+') img').attr("src","img/upload/food/"+data[ran].image_img);     
          }
        }
    })
    function screenshot(){

    html2canvas(document.getElementById('MyCharacter_canvas'))
    .then(function(canvas) {
      let el = document.getElementById('MyCharacter_canvas')
      html2canvas(el,{backgroundColor:null}).then(canvas => {
      document.body.appendChild(canvas)
      let a = canvas.toDataURL();
      let storage = localStorage;
      storage.clear();
      storage.setItem(`KEY${1}`,`${a}`);
      // console.log(a);
      location.href="./myUFO_wardrobe.html"  
    })

      // 下載圖片
      // var a = document.createElement('a');
      // a.href = canvas.toDataURL("image/jpeg").replace("image/jpeg", "image/octet-stream");
      // a.download = 'image.jpg';
      // a.click();
    });
  }
  localStorage.clear();   
	</script>

	<script src="./js/myUFO.js"></script>
</body>

</html>

