<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />        
        @@include('layout/style.html')
        <title>首頁</title>
    </head>
    <style>
    
    </style>
    <body class="index">
        @@include('layout/header.html')
    
        <div class="wrapper index_wrapper" id="app_index">
              <!-- ----------搜尋按鈕---------- -->
            <ul class="index_searchbtn" id="mySearchBtn">
                <li @click="content=content=='1'?'':'1'" class="search_btn_whatToEat">
                    <img src="./img/index/What to eat.png" alt="">
                    <p>今天吃什麼</p>
                </li>
                <li class="search_btn_Search" @click='searchIcon'>
                    <img src="./img/index/search.png" alt="">
                    <p>美食搜尋</p>
                </li>
            </ul>    
            <!------------地圖------------>
            <div class="index_map">
                <img class="map_slogan" src="./img/index/slogan.png" alt="">
                <img class="map" src="./img/index/map.png" alt="" />
            </div>


            <!-- ----------裝飾外星人---------- -->
            <img class="et" src="./img/index/et.png" alt="">

            <!-- ----------whatToEat彈窗---------- -->
            <!-- q1 -->
            <keep-alive>
            <component :is="content"  @next-emit="nextQ" @pre-emit="preQ" @answer-emit="answerQ" @call-ajax-emit="callAjaxQ" @close-emit="closeQ" @again-emit="againQ" :selected="choices"></component>
            </keep-alive>

            <!-- 搜尋彈窗 -->
            <div class="popUps index_search_popup" v-show="isSearchBoard">
                <form class="form getSearch" action="">
                    <button type="button" class="getSearchClose btn_close" @click='closeSearch(1)'>
                        <img src="./img/icon/icon_close_20.png" alt="">
                    </button>
                    <h1>Search</h1>
                    <div class="searchFood text_search">
                        <h2>搜尋美食</h2>
                        <input :class="findFoodClass" type="text"  :disabled="isTyped" v-model="findFood" @click='showTag(1)'>
                        <img src="./img/icon/icon_search.png" alt="">
                    </div>
                    <div class="searchFood mrt_search"> 
                        <h2>捷運路線</h2>
                        <input :class="searchLineClass" @click='show' type="text" disabled="disabled" v-model="searchLine" >
                        <img class="mrt_search_icon" src="./img/icon/icon_next_line.png" alt="" @click='showLine'>
                        <ul class="mrtLines" v-show="isShowLine">
                            <li v-for="line in mrtLine" @click="myline(line)">{{line}}</li>
                        </ul>
                    </div>
                    <div class="searchFood  keyword_search">
                        <h2>標籤搜尋</h2>
                        <input :class="searchTagsClass" type="text" disabled="disabled" v-model="searchTags"> 
                        <img class="keyword_search_icon" src="./img/icon/icon_add_line.png" alt="" @click="showTag(3)">
                    </div>
    
                    <div class="SearchBtn btn">
                        <input  value="出發探索" class="getSearchBtn btn_submit" @click='searchFood'>
                    </div>
              
                </form>
            </div>
            <!-- 標籤彈窗     -->
            <div class="popUps tags_popUp" v-show="isShowTag" >
                <form action="#資料傳送送的網址"  class="form getTags">
                    <button type="button" class="getSearchClose btn_close">
                        <img src="./img/icon/icon_close_20.png" alt="">
                    </button>
                    <h2>請選擇標籤</h2>
                    <div class="searchTags">
                        <span v-for="tag in tags" @click="myTag(tag)">{{tag}}</span>
                    </div>
                </form>
            </div>
            <!-- 搜尋結果彈窗 -->
            <div class="popUps index_store_popup" v-show="isSearchStores">
                <form class="form getStore" action="">
                    <button type="button" class="getSearchClose btn_close" @click="closeSearch(2)">
                        <img src="./img/icon/icon_close_20.png" alt="">
                    </button>
                    <div class="searchFood text_search">
                        <h1 class="text_search_title">搜尋美食</h1>
                        <input type="text">
                        <img src="./img/icon/icon_search.png" alt="">
                    </div>
                    <!-- 店家名單 -->
                    <div class="getStoreInf_search">
                        <div class="getStoreInf">
                            <ul class="getStoreInf_digital">
                                <li class="getStoreInf_name">
                                    <h2>提八米咖啡廳</h2>
                                </li>
                                <li class="getStoreInf_star"> 
                                  <img src="./img/icon/icon_star.png" alt="">
                                  <img src="./img/icon/icon_star.png" alt="">
                                  <img src="./img/icon/icon_star.png" alt="">
                                  <img src="./img/icon/icon_star.png" alt="">
                                  <img src="./img/icon/icon_star_default.png" alt="">
                                </li>
                                <li class="getStoreInf_station">
                                    <p>捷運站:</p>
                                    <span class="station_color">南京復興</span>
                                </li>
                                <li class="getStoreInf_tag">
                                    <span>#銅板美食</span>
                                    <span>#咖啡店</span>
                                    <span>#慘酒館</span>
                                </li>
                            </ul>
                            <img class="getStoreInf_pic" src="./img/index/storePic2.jpeg" alt="">
                        </div>
                        <div class="getStoreInf">
                            <ul class="getStoreInf_digital">
                                <li class="getStoreInf_name">
                                    <h2>提八米咖啡廳</h2>
                                </li>
                                <li class="getStoreInf_star"> 
                                  <img src="./img/icon/icon_star.png" alt="">
                                  <img src="./img/icon/icon_star.png" alt="">
                                  <img src="./img/icon/icon_star.png" alt="">
                                  <img src="./img/icon/icon_star.png" alt="">
                                  <img src="./img/icon/icon_star_default.png" alt="">
                                </li>
                                <li class="getStoreInf_station">
                                    <p>捷運站:</p>
                                    <span class="station_color">南京復興</span>
                                </li>
                                <li class="getStoreInf_tag">
                                    <span>#下午茶</span>
                                    <span>#咖啡店</span>
                                    <span>#甜點</span>
                                </li>
                            </ul>
                            <img class="getStoreInf_pic" src="./img/index/storePic2.jpeg" alt="">
                        </div>
                        <div class="getStoreInf">
                            <ul class="getStoreInf_digital">
                                <li class="getStoreInf_name">
                                    <h2>提八米咖啡廳</h2>
                                </li>
                                <li class="getStoreInf_star"> 
                                  <img src="./img/icon/icon_star.png" alt="">
                                  <img src="./img/icon/icon_star.png" alt="">
                                  <img src="./img/icon/icon_star.png" alt="">
                                  <img src="./img/icon/icon_star.png" alt="">
                                  <img src="./img/icon/icon_star_default.png" alt="">
                                </li>
                                <li class="getStoreInf_station">
                                    <p>捷運站:</p>
                                    <span class="station_color">南京復興</span>
                                </li>
                                <li class="getStoreInf_tag">
                                    <span>#下午茶</span>
                                    <span>#咖啡店</span>
                                    <span>#甜點</span>
                                </li>
                            </ul>
                            <img class="getStoreInf_pic" src="./img/index/storePic2.jpeg" alt="">
                        </div>
                        <div class="getStoreInf">
                            <ul class="getStoreInf_digital">
                                <li class="getStoreInf_name">
                                    <h2>提八米咖啡廳</h2>
                                </li>
                                <li class="getStoreInf_star"> 
                                  <img src="./img/icon/icon_star.png" alt="">
                                  <img src="./img/icon/icon_star.png" alt="">
                                  <img src="./img/icon/icon_star.png" alt="">
                                  <img src="./img/icon/icon_star.png" alt="">
                                  <img src="./img/icon/icon_star_default.png" alt="">
                                </li>
                                <li class="getStoreInf_station">
                                    <p>捷運站:</p>
                                    <span class="station_color">南京復興</span>
                                </li>
                                <li class="getStoreInf_tag">
                                    <span>#下午茶</span>
                                    <span>#咖啡店</span>
                                    <span>#甜點</span>
                                </li>
                            </ul>
                            <img class="getStoreInf_pic" src="./img/index/storePic2.jpeg" alt="">
                        </div>
                        <div class="getStoreInf">
                            <ul class="getStoreInf_digital">
                                <li class="getStoreInf_name">
                                    <h2>提八米咖啡廳</h2>
                                </li>
                                <li class="getStoreInf_star"> 
                                  <img src="./img/icon/icon_star.png" alt="">
                                  <img src="./img/icon/icon_star.png" alt="">
                                  <img src="./img/icon/icon_star.png" alt="">
                                  <img src="./img/icon/icon_star.png" alt="">
                                  <img src="./img/icon/icon_star_default.png" alt="">
                                </li>
                                <li class="getStoreInf_station">
                                    <p>捷運站:</p>
                                    <span class="station_color">南京復興</span>
                                </li>
                                <li class="getStoreInf_tag">
                                    <span>#下午茶</span>
                                    <span>#咖啡店</span>
                                    <span>#甜點</span>
                                </li>
                            </ul>
                            <img class="getStoreInf_pic" src="./img/index/storePic2.jpeg" alt="">
                        </div>
                    </div>
                    <p class="searchTotal">共 <span>5</span> 筆</p>    
                </form>
            </div>
            <!-- 店家詳細資訊 -->
            <div class="popUps index_inf_popup" v-show="isStoreInf">
                <form class="form getStoreDigitalInf" action="">
                    <button type="button" class="getSearchClose btn_close" @click="closeSearch(3)">
                        <img src="./img/icon/icon_close_20.png" alt="">
                    </button>
                    <div class="searchFood text_search">
                        <h1 class="text_search_title">搜尋美食</h1>
                        <input type="text">
                        <img src="./img/icon/icon_search.png" alt="">
                    </div>
                    <!-- 店家基本資訊 -->
                    <div class="storeInf">
                        <div class="storeInf_title">
                            <img class="storeInf_title_like" src="./img/icon/icon_heart.png" alt="">
                            <div>
                                <h2 class="storeInf_title_name">提八米咖啡廳</h2>
                                <div class="getStoreInf_star"> 
                                    <img src="./img/icon/icon_star.png" alt="">
                                    <img src="./img/icon/icon_star.png" alt="">
                                    <img src="./img/icon/icon_star.png" alt="">
                                    <img src="./img/icon/icon_star.png" alt="">
                                    <img src="./img/icon/icon_star_default.png" alt="">
                                </div>
                           </div>
                           <ul class="storeInf_title_warn">
                                <li>
                                    <img class="storeInf_warnIcon" src="./img/icon/icon_warn.png" alt="">
                                </li>
                                <li class="getStoreInf_tag">
                                    <span>#下午茶</span>
                                    <span>#咖啡店</span>
                                    <span>#甜點</span>
                                </li>

                            </ul>
                        </div>
                        <!-- 基本資訊icon     -->
                        <div class="storeInf_section">
                            <ul class="storeInf_sectionIcon">
                                <li class="sectionIcon sectionIcon_location"><img src="./img/icon/icon_location.png" alt=""></li>
                                <li class="sectionIcon sectionIcon_mrt"><img src="./img/icon/icon_mrt.png" alt=""></li>
                                <li class="sectionIcon sectionIcon_tel"><img src="./img/icon/icon_tel.png" alt=""></li>
                                <li class="sectionIcon sectionIcon_time"><img src="./img/icon/icon_time.png" alt=""></li>
                                <li class="sectionIcon sectionIcon_price"><img src="./img/icon/icon_price.png" alt=""></li>
                            </ul>
                            <p class="sectionIconInf"></p>
                        </div>
                        <!-- 店家照片 -->
                        <div class="storeInf_pic">
                            <img class="storeInf_picMain" src="./img/index/storeMainPic.jpeg" alt="">
                            <div class="storeInf_picSection">
                                <img src="./img/index/storePic2.jpeg" alt="">
                                <img src="./img/index/storePic2.jpeg" alt="">
                                <img src="./img/index/storePic3.jpeg" alt="">
                                <img src="./img/index/storePic3.jpeg" alt="">
                            </div>
    
                        </div>
                        <!-- 評論 -->
                        <div class="storeInf_comment">
                            <h2>評論</h2>

                            <div class="storeInf_comments">
                                <ul class="storeInf_commentMain">
                                    <li class="commentMain_account">
                                        <img src="./img/index/account.png" alt="">
                                        <p>MrRight</p>
                                    </li>
                                    
                                    <li class="commentMain_star">
                                        <img src="./img/icon/icon_star.png" alt="">
                                        <img src="./img/icon/icon_star.png" alt="">
                                        <img src="./img/icon/icon_star.png" alt="">
                                        <img src="./img/icon/icon_star.png" alt="">
                                        <img src="./img/icon/icon_star_default.png" alt="">
                                    </li>

                                    <li class="commentMain_comment">
                                        <p>東西好吃 想跟老闆結婚</p>
                                    </li>
                                </ul>
                            </div>
                            <div class="storeInf_comments">
                                <ul class="storeInf_commentMain">
                                    <li class="commentMain_account">
                                        <img src="./img/index/account.png" alt="">
                                        <p>handsomeMan</p>
                                    </li>
                                    
                                    <li class="commentMain_star">
                                        <img src="./img/icon/icon_star.png" alt="">
                                        <img src="./img/icon/icon_star.png" alt="">
                                        <img src="./img/icon/icon_star.png" alt="">
                                        <img src="./img/icon/icon_star.png" alt="">
                                        <img src="./img/icon/icon_star_default.png" alt="">
                                    </li>

                                    <li class="commentMain_comment">
                                        <p>ＣＰ值高 重點是老闆娘票釀</p>
                                    </li>
                                </ul>
                            </div>
                            <div class="storeInf_comments">
                                <ul class="storeInf_commentMain">
                                    <li class="commentMain_account">
                                        <img src="./img/index/account.png" alt="">
                                        <p>LittlePrincess</p>
                                    </li>
                                    
                                    <li class="commentMain_star">
                                        <img src="./img/icon/icon_star.png" alt="">
                                        <img src="./img/icon/icon_star.png" alt="">
                                        <img src="./img/icon/icon_star.png" alt="">
                                        <img src="./img/icon/icon_star.png" alt="">
                                        <img src="./img/icon/icon_star.png" alt="">
                                    </li>

                                    <li class="commentMain_comment">
                                        <p>本公主覺得好吃極了</p>
                                    </li>
                                </ul>
                            </div>
                            <div class="storeInf_comments">
                                <ul class="storeInf_commentMain">
                                    <li class="commentMain_account">
                                        <img src="./img/index/account.png" alt="">
                                        <p>hahaMan</p>
                                    </li>
                                    
                                    <li class="commentMain_star">
                                        <img src="./img/icon/icon_star.png" alt="">
                                        <img src="./img/icon/icon_star.png" alt="">
                                        <img src="./img/icon/icon_star_default.png" alt="">
                                        <img src="./img/icon/icon_star_default.png" alt="">
                                        <img src="./img/icon/icon_star_default.png" alt="">
                                    </li>

                                    <li class="commentMain_comment">
                                        <p>我覺得哈哈 普普通通</p>
                                    </li>
                                </ul>
                            </div>
                            <div class="storeInf_comments">
                                <ul class="storeInf_commentMain">
                                    <li class="commentMain_account">
                                        <img src="./img/index/account.png" alt="">
                                        <p>SexFat</p>
                                    </li>
                                    
                                    <li class="commentMain_star">
                                        <img src="./img/icon/icon_star.png" alt="">
                                        <img src="./img/icon/icon_star.png" alt="">
                                        <img src="./img/icon/icon_star.png" alt="">
                                        <img src="./img/icon/icon_star.png" alt="">
                                        <img src="./img/icon/icon_star_default.png" alt="">
                                    </li>

                                    <li class="commentMain_comment">
                                        <p>我覺得很棒很好吃</p>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!-- 優惠券 -->
                    <div class="btn storeInf_btn">
                        <input  value="領取優惠券" class="getCouponBtn btn_submit" />
                    </div>
                    <br />
                </form>
            </div>
            <!-- 檢舉店家彈窗 -->
            <div class="popUps index_searcReport_popup">
                <form class="form getReport" action="">
                    <button type="button" class="getReportClose btn_close">
                        <img src="./img/icon/icon_close_20.png" alt="">
                    </button>
                    <h1>我要檢舉</h1>
                    <div class="reportTitle">
                        <img src="./img/icon/icon_warn.png" alt="">
                        <h2>被檢舉店家:</h2>
                    </div>
                    <div class="reportStore">
                        <p class="reportStore_name">提八米咖啡廳</p>
                        <div class="reportStore_tags">
                            <span>#下午茶</span>
                            <span>#咖啡店</span>
                            <span>#甜點</span>
                        </div>
                    </div>
                    <div class="reportReason">
                        <h2>檢舉原因:</h2>
                        <textarea class="reportReason_text" name="" id="" cols="30" rows="5"></textarea>
                    </div>
                    <div class="reportBtn btn">
                        <input  type="submit" value="檢舉" class="getReportBtn btn_submit" />
                    </div>
              
                </form>
            </div>
    
        </div>
        @@include('layout/footer.html')
    <script>
        const bus = new Vue();
        Vue.component('1',{
            props: ['selected'],
            template: `
                <div class="popUps index_whatToEat_popup 1">
                    <form class="form whatToEat_q" action="">
                        <button type="button" class="whatToEatClose btn_close">
                            <img src="./img/icon/icon_close_20.png" alt="" @click='closeForm'>
                        </button>
                        <h1>今天吃什麼</h1>
                        <h2>Q1:請選擇符合你心情的顏色</h2>
                        <input  @click="showList" type="text" class="myOptions" v-model="selectedOption">
                        <img class="whatToEat_q_arrow" @click="showList" src="./img/icon/icon_next_line.png" alt="">
                            <ul v-show="isOption" class="select_options" id="options">
                                <li v-for="color in mrtColor" @click="getOption(color)">{{color}}</li>
                            </ul>
                            <p v-show="warn" style="color:#f98072">請完成作答</p>
                        <div class="btn">
                            <input  value="下一題" class="whatBtnNext btn_submit" @click="getNext" />
                        </div>
                        
                    </form>
                </div>
            `,
            data(){
                return {
                    selectedOption:'',
                    mrtColor: ['藍色','紅色','綠色','棕色','黃色'],
                    isOption:false,
                    warn:false,
                };
            },
            mounted() {
                bus.$on('clear-input-emit', () => this.selectedOption ='' ); 
            },
            methods: {
                showList(){
                    this.isOption = !this.isOption;  
                },
                getOption(color){
                    this.selectedOption= color;
                    this.isOption=false;
                    this.$emit('answer-emit',color);
                    this.warn = false;
                },
                getNext(){
                    //  判斷有沒有值可進到下一題
                    if(this.selectedOption !== ''){
                        this.$emit('next-emit');
                    }else{
                        this.warn = true;
                    }
                },
                closeForm(){
                    this.$emit('close-emit');
                    bus.$emit('clear-input-emit')

                },
                
            },    
        });
        Vue.component('2',{
            props: ['selected'],
            template: `
                <div class="popUps index_whatToEat_popup 2">
                    <form class="form whatToEat_q" action="">
                        <button type="button" class="whatToEatClose btn_close">
                            <img src="./img/icon/icon_close_20.png" alt="" @click='closeForm'>
                        </button>
                        <h1>今天吃什麼</h1>
                        <h2>Q2:請選擇你的口味偏好</h2>
                        <input  @click="showList" type="text" v-model="selectedOption" class="myOptions">
                        <img class="whatToEat_q_arrow" @click="showList" src="./img/icon/icon_next_line.png" alt="">
                        <ul v-show="isOption" class="select_options" id="options">
                            <li v-for="favor in favors" @click='getOption(favor)'>{{favor}}</li>
                        </ul>
                        <p v-show="warn" style="color:#f98072">請完成作答</p>

                        
                        <div class="btn">
                            <input  value="上一題" class="whatBtnPre btn_d btn_submit" @click="getPre">
                            <input  value="下一題" class="whatBtnNext btn_submit" @click="getNext">
                        </div>
                        
                    </form>
                </div>
            `,
            data(){
                return {
                    selectedOption:this.selected[1],
                    favors:['我吃重鹹','無辣不歡','健康路線','甜食螞蟻'],
                    isOption:false,
                    warn:false,

                };
            },
            mounted() {
                bus.$on('clear-input-emit', () => this.selectedOption ='' ); 
            },
            methods: {
                showList(){
                    this.isOption = !this.isOption;  
                },
                getOption(favor){
                    this.selectedOption= favor;
                    this.isOption=false;
                    this.$emit('answer-emit',favor);
                    this.warn = false;
                },
                getNext(){
                    if(this.selectedOption !== ''){
                        this.$emit('next-emit');
                    }else{
                        this.warn = true;
                    }
                },
                getPre(){
                    this.$emit('pre-emit');
                },
                closeForm(){
                    this.$emit('close-emit');
                    bus.$emit('clear-input-emit')

                }
            },    
        });
        Vue.component('3',{
            props: ['selected'],
            template: `
                <div class="popUps index_whatToEat_popup 3">
                    <form class="form whatToEat_q" action="">
                        <button type="button" class="whatToEatClose btn_close" @click='closeForm'>
                            <img src="./img/icon/icon_close_20.png" alt="">
                        </button>
                        <h1>今天吃什麼</h1>
                        <h2>Q3:你現在想去的國家</h2>
                        <input  @click="showList" type="text" v-model="selectedOption" class="myOptions">
                        <img class="whatToEat_q_arrow" @click="showList" src="./img/icon/icon_next_line.png" alt="">
                        <ul v-show="isOption" class="select_options" id="options">
                            <li v-for="country in countrys" @click='getOption(country)'>{{country}}</li>
                        </ul>
                        <p v-show="warn" style="color:#f98072">請完成作答</p>

                        <div class="btn">
                            <input  value="上一題" class="whatBtnPre btn_d btn_submit" @click="getPre">
                            <input  value="下一題" class="whatBtnNext btn_submit" @click="getNext" >
                        </div>
                        
                    </form>
                </div>
            `,
            data(){
                return {
                    selectedOption:'',
                    countrys:['日本','義大利','美國','留在台灣'],
                    isOption:false,
                    warn:false,
                };
            },
            mounted() {
                bus.$on('clear-input-emit', () => this.selectedOption ='' ); 
            },
            methods: {
                showList(){
                    this.isOption = !this.isOption;  
                },
                getOption(country){
                    this.selectedOption= country;
                    this.isOption=false;
                    this.$emit('answer-emit',country);
                    this.warn = false;
                },
                getNext(){
                    if(this.selectedOption !== ''){
                        this.$emit('next-emit');
                    }else{
                        this.warn = true;
                    }
                },
                getPre(){
                    this.$emit('pre-emit');
                },
                closeForm(){
                    this.$emit('close-emit');
                    bus.$emit('clear-input-emit')

                }
              
            },    
        });
        Vue.component('4',{
            props: [],
            template: `
                <div class="popUps index_whatToEat_popup 4">
                    <form class="form whatToEat_q" action="">
                        <button type="button" class="whatToEatClose btn_close" @click='closeForm'>
                            <img src="./img/icon/icon_close_20.png" alt="">
                        </button>
                        <h1>今天吃什麼</h1>
                        <h2>Q4:你的感情狀態</h2>
                        <input  @click="showList" type="text" v-model="selectedOption" class="myOptions">
                        <img class="whatToEat_q_arrow" @click="showList" src="./img/icon/icon_next_line.png" alt="">
                        <ul v-show="isOption" class="select_options" id="options">
                            <li v-for="feeling in emotion" @click='getOption(feeling)'>{{feeling}}</li>
                        </ul>
                        <p v-show="warn" style="color:#f98072">請完成作答</p>

                        <div class="buttonArea">
                            <input  value="上一題" class="whatBtnPre btn_d btn_submit"  @click="getPre">
                            <input  value="看結果" class="whatBtnNext btn_d btn_submit" @click="callAjax">
                        </div>
                        
                    </form>
                </div>
            `,
            data(){
                return {
                    selectedOption:'',
                    emotion:['曖昧讓人受盡委屈','孤獨萬歲','失戀無罪','戀愛i-n-g'],
                    isOption:false,
                    warn:false,

                };
            },
            methods: {
                showList(){
                    this.isOption = !this.isOption;  
                },
                getOption(feeling){
                    this.selectedOption=feeling;
                    this.isOption=false;
                    this.$emit('answer-emit',feeling);
                    this.warn = false;
                },
             
                getPre(){
                    this.$emit('pre-emit');
                },
                callAjax(){
                    console.log(this);
                    if(this.selectedOption !== ''){
                        this.$emit('next-emit');
                        this.$emit('call-ajax-emit');
                        bus.$emit('clear-input-emit')
        
                    }else{
                        this.warn = true;
                    }
                },
                closeForm(){
                    this.$emit('close-emit');
                    bus.$emit('clear-input-emit')

                }
              
            },    
        });
        Vue.component('5',{
            props: [],
            template: `
                <div class="popUps index_whatToEat_popup 5">
                    <form class="form whatToEat_q" action="">
                        <button type="button" class="whatToEatClose btn_close" @click='closeForm'>
                            <img src="./img/icon/icon_close_20.png" alt="">
                        </button>
                        <h1>今天吃什麼</h1>
                        <h2>適合你的食物是</h2>
                        <input type="text"  class="myOptions" disabled="disabled" value="" placeholder="後端撈出來食物">    
                        <div class="whatBtn buttonArea">
                            <input  value="再一次" class="whatBtnAgain btn_d btn_submit" @click="getAgain" >
                            <input  value="哪裡有" class=" getWhatBtn btn_d btn_submit" >
                        </div>
                    </form>
                </div>
            `,
            data(){
                return {
                
                };
            },
            methods: {
           
                getAgain(){
                    this.$emit('again-emit');
                },
                closeForm(){
                    this.$emit('close-emit');
                    bus.$emit('clear-input-emit')

                }
              
            },    
        });

        //search
        new Vue({
            el: '#app_index',
            data: {     
                choices:[],//whatToEat答案
                isSearchBoard:false,
                isShowLine:false,
                mrtLine:['板南線','淡水信義線','松山新店線','文湖線','中和新蘆線'],
                searchLine:'',
                findFood:'',
                searchTags:'',
                isShowTag:false,                                                                               						
                tags:['#日式','#韓式','#美式','#義式','#台式','#法式','#中式','#夜市','#商業午餐','#早午餐','#下午茶','#銅板美食','#簡餐','#聚餐','#餐酒館','#咖啡店','#甜點','#麵食','#鹽酥雞','#雞排','#咖哩','#火鍋','#牛排','#拉麵','#鐵板燒'],
                isTyped:false,
                content:'',//question compoment
                isSearchStores:false,
                isStoreInf:false,
            },
            methods: { 
              
                show(){
                    this.optionList = !this.optionList;  
                },
                //打開搜尋彈窗
                searchIcon(){
                    this.isSearchBoard = !this.isSearchBoard;  
                },
                showLine(){
                    this.isShowLine = !this.isShowLine;
                },
                myline(line){
                    this.searchLine= line;
                    this.isShowLine = false;
                },
                myTag(tag){
                    this.searchTags = tag;
                    this.isShowTag = false;
                },
                showTag(number){
                    if(number==3 && this.findFood==''){
                        this.isShowTag = !this.isShowTag;
                    }
                    if(number==1){
                        this.searchTags='';
                    }
                },
                nextQ(){
                    this.content = String(parseInt(this.content)+1);
                },
                preQ(){
                    this.content = String(parseInt(this.content)-1);
                },
                answerQ(selected){
                    let index = parseInt(this.content)-1;
                    this.choices[index] = selected;
                    console.log(this.choices);
                },
                callAjaxQ(){
                    console.log(this.choices);
                    alert('send To Backend');
                    this.choices =['','','',''];
                },
                closeQ(){
                    this.content = '';
                    this.choices =['','','',''];
                },
                againQ(){
                    this.content = '1';
                    this.choices =['','','',''];
                },
                closeSearch(number){
                    if(number == 1){
                        this.isSearchBoard = false;
                        this.searchLine = '';
                        this.findFood = '';
                        this.searchTags ='';
                    }else if(number == 2){
                        this.isSearchStores = false;
                    }else if(number == 3){
                        this.isStoreInf = false;
                    }
                   
                },
                searchFood(){
                    this.searchLine = '';
                    this.findFood = '';
                    this.searchTags ='';
                    console.log(this.findFood,this.searchLine,this.searchTags);
                    alert('Ajax send to backend');
                    this.isSearchBoard = false;
                    this.isSearchStores = true;
                }
            },
            computed:{
                findFoodClass(){
                    return{
                        noText: this.findFood.length === 0,                    
                    }
                },
                searchLineClass(){
                    return{
                        noText: this.searchLine.length === 0,                    
                    }
                },
                searchTagsClass(){
                    return{
                        noText: this.searchTags.length === 0,                    
                    }
                },
                
            }
           
        });
        //-----whatToEat彈窗------
        //打開彈窗
        // $('.search_btn_whatToEat').click(function (){
        //     $('.index_search_popup').fadeOut(100);
        //     $('.index_whatToEat_popup.1').fadeIn(50);

        // });

        //關閉彈窗
        // $('.whatToEatClose').click(function (){
        //     $('.index_whatToEat_popup').fadeOut(200);
        // });
    
        //下拉箭頭打開
        // $('.whatToEat_q_arrow').click(function (e) {
        //     $('.select_options').toggleClass('on');
        // });

        //選擇答案 (取選到的值) 那每題的input變成陣列
        // $('#options li').click(function(){
        //     let options=document.getElementsByClassName('myOptions');  
        //     let questionIndex=(this.parentNode.parentNode.parentNode.className).split(' ')[2]-1;   //為了取索引位置-1 questionNumber=questionIndex
        //     options[questionIndex].value=$(this).text();//options[0]拿第一題
        //     console.log(questionIndex);
        //     $('.select_options').toggleClass('on');
        //     // $('.whatToEat_q_arrow').toggleClass('on');
        // });

        //按下一題並回答問題才可繼續
        // $('.whatBtnNext').click(function(){
        //     let options=document.getElementsByClassName('myOptions');
        //     let questionIndex=(this.parentNode.parentNode.parentNode.className).split(' ')[2]-1;
        //     if( options[questionIndex].value == "" ){
        //         alert('請完成作答');
        //     }else{
        //         $(this.parentNode.parentNode.parentNode).fadeOut(100);
        //         $(this.parentNode.parentNode.parentNode).next().fadeIn(50);
        //     }
        // });
        //按上一題
        // $('.whatBtnPre').click(function(){
        //     $(this.parentNode.parentNode.parentNode).fadeOut(100);
        //     $(this.parentNode.parentNode.parentNode).prev().fadeIn(50);
        // });

        //按再一次 表單清空
        // $('.whatBtnAgain').click(function (){
        //     $(this.parentNode.parentNode.parentNode).fadeOut(100);
        //     $('.myOptions').val('');
        //     $('.index_whatToEat_popup.1').fadeIn(50);
        // });
        //哪裡有
        // $('.getWhatBtn').click(function(){
        //     $('.index_store_popup').fadeIn(50);
        //     $('.index_whatToEat_popup.5').fadeOut(50);
        // }); 
        //-----whatToEat彈窗end------

        //-----search彈窗------
        //打開彈窗
        // $('.search_btn_Search').click(function(){
        //     $('.index_search_popup').toggleClass('on');
        //     // $('.index_whatToEat_popup').fadeOut(100);
        //     // $('.index_search_popup').fadeIn(50);        
        // });
        //關閉彈窗
        // $('.getSearchClose').click(function (){
        //     $(this.parentNode.parentNode).fadeOut(200);
            
        // });
        //顯示下拉選單
        // $('.mrt_search_icon').click(function (){
        //     $('.mrtLines').toggleClass('on');
        // });
        // $('.keyword_search_icon').click(function (){
        //     $('.searchTags').toggleClass('on');
        // });
        //出發探索 搜尋結果彈窗出現
        // $('.getSearchBtn').click(function (){
        //     $('.index_search_popup').fadeOut(50);
        //     $('.index_store_popup').fadeIn(50);
        // });
        //搜尋結果彈窗 點擊跳店家資訊
        // $('.getStoreInf').click(function (e){
        //     $(this.parentNode.parentNode.parentNode).fadeOut(100);
        //     $('.index_inf_popup').fadeIn(50);
        // });
        // //收藏
        $('.storeInf_title_like').click(function (){
            $(this).toggleClass('on');
        });
        //店家資訊
        $('.sectionIcon').click(function (){
            $('.sectionIcon').removeClass('on');
            $(this).toggleClass('on');
            let myClassName =this.className.split(' ')[1];
            $('.sectionIconInf').css('color','#6c584c');
           
            if(myClassName=='sectionIcon_location'){
                $('.sectionIconInf').html('地址｜復興北路你家巷口200號');
            }else if(myClassName=='sectionIcon_mrt'){
                $('.sectionIconInf').html('捷運站｜南京復興');
                $('.sectionIconInf').css('color','#7baa85');
            }else if(myClassName=='sectionIcon_tel'){
                $('.sectionIconInf').html('電話｜02 1234567');
            }else if(myClassName=='sectionIcon_time'){
                $('.sectionIconInf').html('營業時間｜10:00-20:00');
            }else if(myClassName=='sectionIcon_price'){
                $('.sectionIconInf').html('平均客單｜150 元');
            }
        });
        //領取優惠
        $('.getCouponBtn').click(function(){
            $(this).val('領取過了');
        });
         //檢舉店家  
         $('.storeInf_warnIcon').click(function (){
            $(this).addClass('on');
            $('.index_searcReport_popup').fadeIn(100);

        });
        //關閉彈窗
        $('.storeInf_warnIcon.on').click(function (){
            $(this).removeClass('on');
            $('.index_searcReport_popup').fadeOut(100);
        });
      
        $('.getReportClose').click(function (){
            $('.storeInf_warnIcon').toggleClass('on');
            $(this.parentNode.parentNode).fadeOut(100);
        });
      

        

     
    </script>    
    </body>

</html>